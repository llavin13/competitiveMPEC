RT is False
Default write of storage_offers_DA.csv just to have a file (but constraint should be inactive)
Reading model...
...model read.
creating competitive generators file...
...competitive generators recorded.
Loading data...
.. day-ahead data read.
Compiling instance...
...instance created.
Creating Offer Mitigation (model will solve as dispatch if TRUE)...
...storage offer mitigation file created
Converting model to MPEC...
...converted
NOTE: initial MIP solve with only storage competitive to get feasible solution
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpp5y8u07a.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.05
CPLEX> New value for deterministic time limit in ticks: 100000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpluemfuyo.pyomo.lp' read.
Read time = 0.16 sec. (14.50 ticks)
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpluemfuyo.pyomo.lp
Objective sense      : Maximize
Variables            :   53803  [Nneg: 1,  Box: 21998,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9067
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  289272
  RHS nonzeros       :   67456

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_DetTimeLimit                            100000
CPXPARAM_MIP_Tolerances_MIPGap                   0.050000000000000003
Tried aggregator 3 times.
MIP Presolve eliminated 88927 rows and 19223 columns.
MIP Presolve added 3355 rows and 0 columns.
MIP Presolve modified 24776 coefficients.
Aggregator did 12956 substitutions.
Reduced MIP has 24677 rows, 21042 columns, and 67952 nonzeros.
Reduced MIP has 8311 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (164.64 ticks)
Probing fixed 376 vars, tightened 4092 bounds.
Probing time = 0.05 sec. (18.03 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 3122 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23792 rows, 20251 columns, and 65386 nonzeros.
Reduced MIP has 7934 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (90.41 ticks)
Probing fixed 0 vars, tightened 306 bounds.
Probing time = 0.08 sec. (21.44 ticks)
Clique table members: 43770.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.27 sec. (600.02 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0     7654.8771    91                   7654.8771     5462         
      0     0     7654.8771    91                    Cuts: 21     5469         
      0     0     7654.2596    91                     Cuts: 3     5481         
      0     0     7653.9420    91                    Cuts: 27     5491         
      0     0     7194.5905    91                     Cuts: 3     5516         
      0     0     7018.2198    91                    Cuts: 15     5535         
      0     0     7018.0654    91                     Cuts: 4     5544         
      0     0     7017.0329    91                 Flowcuts: 1     5549         
*     0+    0                         4973.1333     7017.0329            41.10%
      0     4        cutoff           5285.0149     6171.1039     5611   16.77%
Elapsed time = 3.91 sec. (2671.40 ticks, tree = 0.02 MB, solutions = 6)
*    10+    4                         5576.2355     6131.9098             9.97%
     46     4     6131.9098     7     5576.2355     5840.5404     5687    4.74%

Cover cuts applied:  2
Implied bound cuts applied:  3
Flow cuts applied:  16
Mixed integer rounding cuts applied:  4
Gomory fractional cuts applied:  5

Root node processing (before b&c):
  Real time             =    3.28 sec. (2659.07 ticks)
Parallel b&c, 16 threads:
  Real time             =    0.70 sec. (317.54 ticks)
  Sync time (average)   =    0.47 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&cut) =    3.98 sec. (2976.61 ticks)

Solution pool: 7 solutions saved.

MIP - Integer optimal, tolerance (0.05/1e-06):  Objective =  5.5762354895e+03
Current MIP best bound =  5.8405404384e+03 (gap = 264.305, 4.74%)
Solution time =    3.98 sec.  Iterations = 5745  Nodes = 51 (8)
Deterministic time = 2976.76 ticks  (746.99 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmph3szungl.cplex.sol'.
CPLEX> NOTE: no warmstart specified for MIP iteration, default behavior is true
NOTE: resolving with all competitive generators using storage-only solution to warmstart
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpttkpmus1.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.05
CPLEX> New value for deterministic time limit in ticks: 100000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmprww10mym.pyomo.lp' read.
Read time = 0.16 sec. (14.52 ticks)
CPLEX> MIP start file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpbo119ph9.cplex.mst' read.
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmprww10mym.pyomo.lp
Objective sense      : Maximize
Variables            :   54523  [Nneg: 1,  Box: 22718,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9763
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  289272
  RHS nonzeros       :   67456

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_DetTimeLimit                            100000
CPXPARAM_MIP_Tolerances_MIPGap                   0.050000000000000003
1 of 1 MIP starts provided solutions.
MIP start 'm1' defined initial solution with objective 46311.5044.
Tried aggregator 3 times.
MIP Presolve eliminated 88927 rows and 19943 columns.
MIP Presolve added 3355 rows and 0 columns.
MIP Presolve modified 24776 coefficients.
Aggregator did 12956 substitutions.
Reduced MIP has 24677 rows, 21042 columns, and 67952 nonzeros.
Reduced MIP has 8311 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.16 sec. (164.99 ticks)
Probing fixed 376 vars, tightened 4092 bounds.
Probing time = 0.05 sec. (18.03 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 3122 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23792 rows, 20251 columns, and 65386 nonzeros.
Reduced MIP has 7934 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (90.41 ticks)
Probing fixed 0 vars, tightened 306 bounds.
Probing time = 0.06 sec. (21.44 ticks)
Clique table members: 43770.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.27 sec. (625.05 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

*     0+    0                        46311.5044   7.33499e+07              --- 
      0     0    79700.4988   177    46311.5044    79700.4988     5899   72.10%
      0     0    78876.9514   177    46311.5044     Cuts: 314     6049   70.32%
      0     0    78454.9962   177    46311.5044     Cuts: 271     6150   69.41%
      0     0    78320.8103   177    46311.5044      Cuts: 88     6191   69.12%
      0     0    78299.5643   177    46311.5044      Cuts: 25     6203   69.07%
      0     0    78298.9641   177    46311.5044       Cuts: 7     6208   69.07%
      0     0    78298.9641   177    46311.5044   Flowcuts: 8     6210   69.07%
      0     0    78195.2877   177    46311.5044      Cuts: 18     6239   68.85%
      0     0    77747.0792   177    46311.5044      Cuts: 28     6273   67.87%
      0     0    77743.5027   177    46311.5044      Cuts: 58     6301   67.87%
      0     2    77743.5027    62    46311.5044    77618.4298     6301   67.60%
Elapsed time = 3.91 sec. (3111.51 ticks, tree = 0.02 MB, solutions = 1)
    288   277    69239.5796    24    46311.5044    77330.7523     8081   66.98%
    622   300    59302.8317    14    46311.5044    77330.7523     8178   66.98%
    957   558    71174.1500    34    46311.5044    77330.7523     9385   66.98%
   1328   794    58919.9875    11    46311.5044    77330.7523    11015   66.98%
   1638  1036        cutoff          46311.5044    77330.7523    13171   66.98%
*  1803  1339      integral     0    50658.4932    77330.7523    16361   52.65%
   1991  1207    63308.5337    35    50658.4932    77330.7523    14477   52.65%
   2271  1306        cutoff          50658.4932    75815.9044    15404   49.66%
   2271  1395    70493.7036    48    50658.4932    75815.9044    17159   49.66%
   2588  1665    50796.3492    32    50658.4932    75815.9044    19836   49.66%
   2946  1682    59060.0952    28    50658.4932    73578.3344    19953   45.24%
   4332  2800    61193.5932    18    50658.4932    72246.9630    29926   42.62%
Elapsed time = 16.23 sec. (6222.39 ticks, tree = 20.98 MB, solutions = 11)

Performing restart 1

Repeating presolve.
Tried aggregator 4 times.
MIP Presolve eliminated 760 rows and 692 columns.
MIP Presolve modified 32035 coefficients.
Aggregator did 240 substitutions.
Reduced MIP has 22792 rows, 19319 columns, and 62040 nonzeros.
Reduced MIP has 7636 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.11 sec. (107.44 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 443 rows and 362 columns.
MIP Presolve modified 12138 coefficients.
Aggregator did 6 substitutions.
Reduced MIP has 22343 rows, 18951 columns, and 60791 nonzeros.
Reduced MIP has 7455 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.03 sec. (40.70 ticks)
Tried aggregator 1 time.
MIP Presolve modified 9555 coefficients.
Reduced MIP has 22343 rows, 18951 columns, and 60791 nonzeros.
Reduced MIP has 7455 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.05 sec. (42.63 ticks)
Represolve time = 0.61 sec. (488.25 ticks)
   4705     0    77615.4579   159    50658.4932     Cuts: 274    44108   40.51%
   4705     0    77615.4579   159    50658.4932      Cuts: 65    44170   40.51%
   4705     0    77614.5914   159    50658.4932      Cuts: 63    44215   40.51%
   4705     0    77614.1485   159    50658.4932      Cuts: 76    44283   40.51%
   4705     0    77613.5572   159    50658.4932      Cuts: 49    44331   40.51%
   4705     0    77613.4859   159    50658.4932      Cuts: 53    44393   40.51%
   4705    16    58217.9142    65    50658.4932    71178.6366    44532   40.51%
   5039   148    51404.1319    26    50658.4932    71178.6366    47097   40.51%
   5779   353        cutoff          50658.4932    67962.0643    50112   34.16%
   6632   661    51359.3026    31    50658.4932    67504.1530    53578   33.25%
   7998  1307    50978.0967    32    50658.4932    66662.8101    60821   31.59%
   9391  1742    59728.7298    62    50658.4932    62478.3235    66197   23.33%
  10896  2444    60064.9472    64    50658.4932    61691.7445    74674   21.78%
  12181  3880    57508.4640    52    50658.4932    60440.3847    91453   19.31%
  12910  4711    51383.0806    37    50658.4932    60421.1896   100308   19.27%
  14070  5499    52581.1315    41    50658.4932    59955.6020   107566   18.35%
Elapsed time = 53.67 sec. (19196.56 ticks, tree = 41.71 MB, solutions = 11)
  15394  6094    53858.8161    56    50658.4932    59721.0297   113841   17.89%
* 16070  6795      integral     0    50884.4490    59721.0297   120732   17.37%
  16861  6322    55871.3328    92    50884.4490    59524.0497   116370   16.98%
  18581  8216    50687.1929    16    50884.4490    59484.8506   133289   16.90%
  19886  7765    52931.2238    48    50884.4490    59238.4204   139348   16.42%
  20894  9325    58566.6498    69    50884.4490    59153.6410   155912   16.25%
  22067  9371        cutoff          50884.4490    59100.0341   156674   16.15%
  23589 10048    56248.6462    55    50884.4490    59085.9861   163608   16.12%
  25108 11580    52646.6037    49    50884.4490    59016.3918   180364   15.98%
  26639 11394    58520.5342    62    50884.4490    58865.7142   178959   15.69%
  28215 12860    51688.9660    46    50884.4490    58841.8481   196231   15.64%
Elapsed time = 87.89 sec. (28744.31 ticks, tree = 100.75 MB, solutions = 13)
  29747 13281    51255.0611    44    50884.4490    58738.3061   201220   15.43%
  31185 14314    52227.7041    54    50884.4490    58738.3061   214039   15.43%
  32200 15026    52746.7736    42    50884.4490    58707.8511   223056   15.37%
  32780 16214    51688.9984    56    50884.4490    58615.0195   238567   15.19%
  33771 17145        cutoff          50884.4490    58615.0195   250747   15.19%
  35127 16833    51431.0136    39    50884.4490    58546.1359   246767   15.06%
  36626 17721    52405.4278    44    50884.4490    58518.0363   258445   15.00%
  38315 18557    51096.9156    39    50884.4490    58412.7950   271149   14.79%
  39980 19077    51128.2045    39    50884.4490    58394.8605   279361   14.76%
  41552 19754        cutoff          50884.4490    58327.6821   288612   14.63%
Elapsed time = 119.97 sec. (38287.86 ticks, tree = 156.38 MB, solutions = 13)
  43114 22142    54417.4090   104    50884.4490    58273.2837   324043   14.52%
  44572 21195    51293.5255    35    50884.4490    58273.2837   309528   14.52%
  46066 21666    51359.7850    49    50884.4490    58173.0203   317129   14.32%
  47364 22775    51847.5855    44    50884.4490    58114.7557   334097   14.21%
  48223 22988    50901.2925    45    50884.4490    58114.7557   337612   14.21%
  48652 24348    56323.4549    54    50884.4490    58006.1010   363593   14.00%
  49370 24413    51303.3515    49    50884.4490    57890.8357   365476   13.77%
  50422 25588        cutoff          50884.4490    57845.5792   398106   13.68%
  51806 25446    56036.8575    58    50884.4490    57690.7177   394998   13.38%
  53381 24968        cutoff          50884.4490    57529.1858   381337   13.06%
Elapsed time = 147.73 sec. (47836.66 ticks, tree = 197.60 MB, solutions = 13)
  54816 25216    52609.5301    33    50884.4490    57311.8134   387346   12.63%
  56198 26428    55865.2810    55    50884.4490    57311.8134   447891   12.63%
  57645 25983    50919.2432    17    50884.4490    56593.7611   412823   11.22%
  59152 26395    51486.1440    52    50884.4490    55988.2885   470491   10.03%
  60721 26270    51486.0671    49    50884.4490    54965.8827   438592    8.02%
  62498 26401        cutoff          50884.4490    54556.8552   471214    7.22%
  64284 26487    51355.5142    26    50884.4490    54322.2195   516241    6.76%
  65943 26327        cutoff          50884.4490    54189.9123   485920    6.50%
  67131 26456    52609.5301    35    50884.4490    54189.9123   514530    6.50%
  68211 27803    52217.8643    48    50884.4490    53919.3602   542083    5.96%
Elapsed time = 180.50 sec. (57378.97 ticks, tree = 226.26 MB, solutions = 13)
  69002 27948    51676.2417    40    50884.4490    53916.7829   544300    5.96%
  69844 28079    51596.8606    31    50884.4490    53871.1851   546348    5.87%
  71198 30031    51508.6447    43    50884.4490    53515.3550   571769    5.17%
  72840 28580    51355.5142    27    50884.4490    53507.8809   552667    5.16%
  74019 28533    50927.0027    31    50884.4490    53507.8809   552053    5.16%
  74986 31017    50920.3303    20    50884.4490    53507.8809   586607    5.16%
  75919 29193        cutoff          50884.4490    53507.8809   561677    5.16%

GUB cover cuts applied:  2
Cover cuts applied:  5
Implied bound cuts applied:  13
Flow cuts applied:  81
Mixed integer rounding cuts applied:  28
Zero-half cuts applied:  1
Gomory fractional cuts applied:  23

Root node processing (before b&c):
  Real time             =    3.30 sec. (3058.97 ticks)
Parallel b&c, 16 threads:
  Real time             =  188.36 sec. (61805.80 ticks)
  Sync time (average)   =    1.07 sec.
  Wait time (average)   =    0.04 sec.
                          ------------
Total (root+branch&cut) =  191.66 sec. (64864.77 ticks)

Solution pool: 13 solutions saved.

MIP - Integer optimal, tolerance (0.05/1e-06):  Objective =  5.0884449048e+04
Current MIP best bound =  5.3426047612e+04 (gap = 2541.6, 4.99%)
Solution time =  191.66 sec.  Iterations = 592243  Nodes = 76036 (32037)
Deterministic time = 64864.92 ticks  (338.44 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp2huv6xea.cplex.sol'.
CPLEX> Exporting results... 
ERROR exporting generator dispatch! Check export_generator_dispatch().
Traceback (most recent call last):
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 56, in export_results
    instance, timepoints_set, generators_set, results_directory
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 221, in export_generator_dispatch
    np.asarray(timepoints_list),
NameError: name 'timepoints_list' is not defined


           Launching Python debugger (PDB)...
           To execute multi-line statements in PDB, type this:
                import code; code.interact(local=vars())
           (The command launches an interactive Python session with all the local variables available.)
           To exit the interactive session and continue script execution, press Ctrl+D.
           
> c:\users\wenmi\desktop\competitivempec\write_results_competitive.py(221)export_generator_dispatch()
-> np.asarray(timepoints_list),
(Pdb) 