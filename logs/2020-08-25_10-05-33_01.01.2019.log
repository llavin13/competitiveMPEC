Reading model...
...model read.
creating competitive generators file...
...competitive generators recorded.
Loading data...
.. real-time data read.
Compiling instance...
...instance created.
Creating Offer Mitigation (model will solve as dispatch if TRUE)...
...storage offer mitigation file created
Converting model to MPEC...
...converted
NOTE: initial MIP solve with only storage competitive to get feasible solution
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpck8ot7yt.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.01
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpfuo07jwe.pyomo.lp' read.
Read time = 0.31 sec. (27.71 ticks)
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpfuo07jwe.pyomo.lp
Objective sense      : Maximize
Variables            :  107781  [Nneg: 1,  Box: 44056,  Free: 8928,
                                 Binary: 54796]
Objective nonzeros   :   17522
Linear constraints   :  246901  [Less: 82866,  Greater: 118424,  Equal: 45611]
  Nonzeros           :  590381
  RHS nonzeros       :  134739

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.008333333      Max   : 208.3333       
Linear constraints   :
  Nonzeros           : Min   : 0.008333333      Max   : 1000000.       
  RHS nonzeros       : Min   : 0.008333333      Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.01
Tried aggregator 3 times.
MIP Presolve eliminated 180775 rows and 40703 columns.
MIP Presolve added 6192 rows and 0 columns.
MIP Presolve modified 49155 coefficients.
Aggregator did 25814 substitutions.
Reduced MIP has 46504 rows, 39744 columns, and 136001 nonzeros.
Reduced MIP has 15634 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.34 sec. (330.28 ticks)
Probing fixed 746 vars, tightened 10749 bounds.
Probing time = 0.09 sec. (20.25 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 1682 rows and 1492 columns.
MIP Presolve modified 5559 coefficients.
Aggregator did 96 substitutions.
Reduced MIP has 44726 rows, 38156 columns, and 130857 nonzeros.
Reduced MIP has 14888 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.14 sec. (216.37 ticks)
Probing fixed 0 vars, tightened 730 bounds.
Probing time = 0.19 sec. (24.30 ticks)
Clique table members: 84902.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 1.00 sec. (2230.32 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0   5.43157e+07   480                 5.43157e+07    11068         
      0     0   4.51601e+07   480                   Cuts: 826    11817         
      0     0   3.52532e+07   480                   Cuts: 269    13201         
      0     0   3.46836e+07   480                   Cuts: 196    13802         
      0     0   3.38299e+07   480                   Cuts: 242    14127         
      0     0   3.30452e+07   480                   Cuts: 202    15071         
      0     0   3.19830e+07   480                   Cuts: 172    15244         
      0     0   3.06527e+07   480                   Cuts: 185    15535         
      0     0  3980835.6666   480                   Cuts: 126    17013         
      0     0    70185.3714   480                    Cuts: 78    17110         
      0     0    68369.1651   480                    Cuts: 12    17258         
      0     0    68075.9714   480                Flowcuts: 56    17452         
      0     0    68075.8796   480                     Cuts: 7    17462         
      0     0    68075.8690   480                 Flowcuts: 4    17468         
      0     0    68075.8690   480                     Cuts: 8    17482         
      0     3    12475.6675   119                  38861.2132    17775         
Elapsed time = 11.44 sec. (12025.22 ticks, tree = 0.02 MB, solutions = 0)
    150    48    12353.6019    63                  12527.5538    19510         
    305    53    12288.4599    66                  12527.5538    19659         
*   418+  415                        11900.8412    12527.5538             5.27%
    648   261    12438.0521    43    11901.0928    12527.5538    22904    5.26%
*   706   325      integral     0    11901.2778    12527.5538    24493    5.26%
    822   440    12357.9137    48    11901.2778    12527.5538    25732    5.26%
    954   495    12505.0012    69    11901.2778    12527.5538    27331    5.26%
   1098   708    12498.1622    63    11901.2778    12527.5538    32553    5.26%
   1208   786    12489.8488    43    11901.2778    12525.8591    34883    5.25%
   1301   922    11901.5529    10    11901.2778    12525.8591    47630    5.25%
*  1566  1098      integral     0    11913.4407    12525.8591    74022    5.14%
Elapsed time = 24.13 sec. (14658.21 ticks, tree = 22.33 MB, solutions = 11)
*  1704  1120      integral     0    11915.2010    12525.8591    76840    5.13%
*  1770  1258      integral     0    11921.6828    12525.8591    98253    5.07%
   2294  1554    11944.9801    31    11921.6828    12524.5836   118785    5.06%
*  2385  1335      integral     0    11924.7359    12524.5836   106509    5.03%
   2964  1670    11923.6748    18    11924.7359    12524.5836   123498    5.03%
   3534  1770    11925.4404    17    11924.7359    12520.2044   134708    4.99%
   4122  2256    11926.4965    15    11924.7359    12520.2044   153807    4.99%
   4767  2476    12336.4841    66    11924.7359    12518.7753   162855    4.98%

Performing restart 1

Repeating presolve.
Tried aggregator 3 times.
MIP Presolve eliminated 1620 rows and 1460 columns.
MIP Presolve modified 10603 coefficients.
Aggregator did 335 substitutions.
Reduced MIP has 42771 rows, 36361 columns, and 117862 nonzeros.
Reduced MIP has 14158 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.13 sec. (118.80 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 692 rows and 564 columns.
MIP Presolve modified 3069 coefficients.
Aggregator did 18 substitutions.
Reduced MIP has 42061 rows, 35779 columns, and 115832 nonzeros.
Reduced MIP has 13876 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (73.17 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 164 rows and 164 columns.
MIP Presolve modified 775 coefficients.
Aggregator did 41 substitutions.
Reduced MIP has 41856 rows, 35574 columns, and 115217 nonzeros.
Reduced MIP has 13794 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.14 sec. (196.85 ticks)
Represolve time = 1.06 sec. (579.00 ticks)
   4904     0    14617.0562   463    11924.7359     Cuts: 638   205968    4.94%
   4904     0    14615.7797   463    11924.7359     Cuts: 447   206036    4.94%
   4904     0    14540.2927   463    11924.7359     Cuts: 173   206091    4.94%
   4904     0    14511.1700   463    11924.7359      Cuts: 76   206135    4.94%
   4904     0    14418.4129   463    11924.7359      Cuts: 91   206213    4.94%
   4904    11    12254.7488   134    11924.7359    12420.0160   206810    4.15%
   4953    32    12161.6193   135    11924.7359    12295.0260   209076    3.11%
Elapsed time = 69.36 sec. (34742.76 ticks, tree = 0.40 MB, solutions = 16)
   5036    42    11956.8168    90    11924.7359    12295.0260   209845    3.11%
   5112    48    11972.8108   116    11924.7359    12295.0260   211246    3.11%
   5245    53    12083.3411   110    11924.7359    12295.0260   210262    3.11%
   5386    49    12053.2300   102    11924.7359    12295.0260   211623    3.11%
   5544    91    11944.4028   107    11924.7359    12293.8713   213243    3.10%
   5913   118        cutoff          11924.7359    12293.8713   215397    3.10%
   6276   366    11925.4518   131    11924.7359    12287.8308   234142    3.04%
   6644   371        cutoff          11924.7359    12287.8308   235881    3.04%
   7057   381        cutoff          11924.7359    12286.2321   238051    3.03%
   7492   347        cutoff          11924.7359    12286.2321   236461    3.03%
Elapsed time = 112.06 sec. (44356.55 ticks, tree = 4.43 MB, solutions = 16)
   7834   443    11969.4766    97    11924.7359    12286.2321   243788    3.03%
   7970   446    11925.9650   120    11924.7359    12286.2321   242837    3.03%
   8062   462        cutoff          11924.7359    12270.4013   244019    2.90%
   8184   673    11967.5215   116    11924.7359    12270.4013   270101    2.90%
   8346   829    11926.1448   105    11924.7359    12270.4013   288505    2.90%

GUB cover cuts applied:  2
Clique cuts applied:  110
Cover cuts applied:  12
Implied bound cuts applied:  94
Flow cuts applied:  437
Mixed integer rounding cuts applied:  25
Gomory fractional cuts applied:  4

Root node processing (before b&c):
  Real time             =   10.70 sec. (11979.29 ticks)
Parallel b&c, 16 threads:
  Real time             =  103.45 sec. (38042.24 ticks)
  Sync time (average)   =    3.26 sec.
  Wait time (average)   =    0.06 sec.
                          ------------
Total (root+branch&cut) =  114.16 sec. (50021.53 ticks)

Solution pool: 16 solutions saved.

MIP - Deterministic time limit exceeded, integer feasible:  Objective =  1.1924735886e+04
Current MIP best bound =  1.2215684051e+04 (gap = 290.948, 2.44%)
Solution time =  114.16 sec.  Iterations = 376680  Nodes = 8355 (1639)
Deterministic time = 50021.84 ticks  (438.19 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmptdbi4vqx.cplex.sol'.
CPLEX> NOTE: no warmstart specified for MIP iteration, default behavior is true
NOTE: resolving with all competitive generators using storage-only solution to warmstart
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp13o383ok.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.01
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpwg7sbhnx.pyomo.lp' read.
Read time = 0.31 sec. (27.75 ticks)
CPLEX> MIP start file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp2io840qc.cplex.mst' read.
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpwg7sbhnx.pyomo.lp
Objective sense      : Maximize
Variables            :  109221  [Nneg: 1,  Box: 45496,  Free: 8928,
                                 Binary: 54796]
Objective nonzeros   :   18914
Linear constraints   :  246901  [Less: 82866,  Greater: 118424,  Equal: 45611]
  Nonzeros           :  590381
  RHS nonzeros       :  134739

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.008333333      Max   : 208.3333       
Linear constraints   :
  Nonzeros           : Min   : 0.008333333      Max   : 1000000.       
  RHS nonzeros       : Min   : 0.008333333      Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.01
Warning:  No solution found from 1 MIP starts.
Retaining values of one MIP start for possible repair.
Tried aggregator 3 times.
MIP Presolve eliminated 180775 rows and 42143 columns.
MIP Presolve added 6192 rows and 0 columns.
MIP Presolve modified 49155 coefficients.
Aggregator did 25814 substitutions.
Reduced MIP has 46504 rows, 39744 columns, and 136001 nonzeros.
Reduced MIP has 15634 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.34 sec. (330.97 ticks)
Probing fixed 746 vars, tightened 10749 bounds.
Probing time = 0.09 sec. (20.25 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 1682 rows and 1492 columns.
MIP Presolve modified 5559 coefficients.
Aggregator did 96 substitutions.
Reduced MIP has 44726 rows, 38156 columns, and 130857 nonzeros.
Reduced MIP has 14888 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.14 sec. (216.37 ticks)
Probing fixed 0 vars, tightened 730 bounds.
Probing time = 0.17 sec. (24.30 ticks)
Clique table members: 84902.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 1.08 sec. (2440.54 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0   5.43449e+07   660                 5.43449e+07    12514         
      0     0   4.88917e+07   660                   Cuts: 400    13188         
      0     0   3.54068e+07   660                   Cuts: 297    13813         
      0     0   3.46961e+07   660                   Cuts: 172    14367         
      0     0   3.38509e+07   660                   Cuts: 113    14522         
      0     0   3.26302e+07   660                    Cuts: 55    14652         
      0     0   3.14151e+07   660                    Cuts: 40    14727         
      0     0  4198235.9780   660                    Cuts: 89    16322         
      0     0   306063.6322   660                   Cuts: 145    16490         
      0     0   238931.7335   660                   Cuts: 103    16571         
      0     0   180861.7819   660                   Cuts: 117    16651         
      0     0   178107.1187   660                    Cuts: 96    16779         
      0     0   164966.5677   660                   Cuts: 196    17061         
      0     0   164957.6811   660                    Cuts: 95    17111         
      0     0   164950.2251   660                Flowcuts: 46    17166         
Repair heuristic found nothing.
      0    11    42070.9814   257                  68108.7350    18663         
Elapsed time = 14.00 sec. (13140.42 ticks, tree = 0.02 MB, solutions = 0)
    110    24    41537.6243   327                  42520.5719    19231         
    288   198    42048.1277   317                  42520.5719    22802         
    430    95    41882.4278   176                  42520.5719    20798         
    630   338    41828.5694   168                  42520.5719    24762         
    866   812    41793.1080   164                  42520.5719    32704         
   1103   523    41794.4209    92                  42520.5719    28311         
   1242   736    41531.8619    18                  42520.5719    31453         
   1402   934    41200.3354    16                  42520.5719    35493         
*  1445+ 1401                        41177.0796    42520.5719             3.26%
*  1777  1328      integral     0    41445.1940    42520.5719    41762    2.59%
Elapsed time = 27.17 sec. (15918.27 ticks, tree = 40.07 MB, solutions = 6)
   2318  1788        cutoff          41445.1940    42477.9733    55975    2.49%
   2911  1941    41446.6933    37    41445.1940    42477.9733    59753    2.49%
   3607  2278    41587.3049    36    41445.1940    42477.9733    69595    2.49%
   4091  2981    42456.0896   324    41462.5962    42471.9310    95831    2.43%
   4504  3082    41480.0067    93    41462.5962    42471.9310    98306    2.43%

Performing restart 1

Repeating presolve.
Tried aggregator 3 times.
MIP Presolve eliminated 1624 rows and 1464 columns.
MIP Presolve modified 9032 coefficients.
Aggregator did 334 substitutions.
Reduced MIP has 42768 rows, 36358 columns, and 117851 nonzeros.
Reduced MIP has 14156 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.11 sec. (120.20 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 692 rows and 564 columns.
MIP Presolve modified 1044 coefficients.
Aggregator did 19 substitutions.
Reduced MIP has 42057 rows, 35775 columns, and 115818 nonzeros.
Reduced MIP has 13874 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (73.26 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 164 rows and 164 columns.
MIP Presolve modified 401 coefficients.
Aggregator did 40 substitutions.
Reduced MIP has 41853 rows, 35571 columns, and 115206 nonzeros.
Reduced MIP has 13792 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.13 sec. (197.20 ticks)
Represolve time = 0.98 sec. (555.70 ticks)
   4640     0    44545.3391   730    41462.5962     Cuts: 801   140573    2.43%
   4640     0    44525.5758   730    41462.5962     Cuts: 908   140738    2.43%
   4640     0    44428.0010   730    41462.5962     Cuts: 195   140834    2.43%
   4640     0    44216.6775   730    41462.5962     Cuts: 157   140982    2.43%
   4640     0    44188.2490   730    41462.5962      Cuts: 53   141010    2.43%
   4640     0    44136.4013   730    41462.5962     Cuts: 132   141064    2.43%
   4640     0    44119.6162   730    41462.5962      Cuts: 41   141103    2.43%
   4640     0    44054.8342   730    41462.5962      Cuts: 72   141141    2.43%
   4640     2    44054.8342   444    41462.5962    42471.9310   141141    2.43%
   4668     4    42001.1932   367    41462.5962    42143.1463   141719    1.64%
   4716    52    41886.2722   356    41462.5962    42143.1463   144410    1.64%
   4808    48    41845.6243   367    41462.5962    42143.1463   143943    1.64%
   4953   103    41720.9581   207    41462.5962    42143.1463   144879    1.64%
Elapsed time = 90.70 sec. (43733.34 ticks, tree = 1.80 MB, solutions = 7)
   5190   114    41729.7691   255    41462.5962    42143.1463   146464    1.64%
   5508    72    41749.6395   257    41462.5962    42140.7883   144746    1.64%
   5887   142    41677.9935   239    41462.5962    42140.7883   146334    1.64%
   6152   211    41918.9589   390    41462.5962    42140.7883   147005    1.64%
   6223   129    41738.5962   287    41462.5962    42140.7883   148019    1.64%
   6259   150    41562.5995   273    41462.5962    42140.7883   148213    1.64%

Clique cuts applied:  43
Cover cuts applied:  29
Implied bound cuts applied:  144
Flow cuts applied:  585
Mixed integer rounding cuts applied:  78

Root node processing (before b&c):
  Real time             =   12.39 sec. (13011.23 ticks)
Parallel b&c, 16 threads:
  Real time             =   87.14 sec. (37009.29 ticks)
  Sync time (average)   =    4.43 sec.
  Wait time (average)   =    0.05 sec.
                          ------------
Total (root+branch&cut) =   99.53 sec. (50020.51 ticks)

Solution pool: 7 solutions saved.

MIP - Deterministic time limit exceeded, integer feasible:  Objective =  4.1462596171e+04
Current MIP best bound =  4.2140788332e+04 (gap = 678.192, 1.64%)
Solution time =   99.55 sec.  Iterations = 183958  Nodes = 6268 (1510)
Deterministic time = 50020.82 ticks  (502.48 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpfvc9tb7i.cplex.sol'.
CPLEX> Exporting results... 
ERROR exporting NUC generator offers! Check export_nuc_generator_dispatch().
Traceback (most recent call last):
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 92, in export_results
    instance, timepoints_set, nuc_set, is_MPEC, results_directory
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 420, in export_nuc_generator_dispatch
    df.to_csv(os.path.join(results_directory, "nuc_offer.csv"))
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\generic.py", line 3204, in to_csv
    formatter.save()
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\io\formats\csvs.py", line 188, in save
    compression=dict(self.compression_args, method=self.compression),
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\io\common.py", line 428, in get_handle
    f = open(path_or_buf, mode, encoding=encoding, newline="")
PermissionError: [Errno 13] Permission denied: '\\Users\\wenmi\\Desktop\\competitiveMPEC\\test\\01.01.2019\\results_RT_193_240\\nuc_offer.csv'


           Launching Python debugger (PDB)...
           To execute multi-line statements in PDB, type this:
                import code; code.interact(local=vars())
           (The command launches an interactive Python session with all the local variables available.)
           To exit the interactive session and continue script execution, press Ctrl+D.
           
> c:\program files\anaconda3\lib\site-packages\pandas\io\common.py(428)get_handle()
-> f = open(path_or_buf, mode, encoding=encoding, newline="")
(Pdb) 