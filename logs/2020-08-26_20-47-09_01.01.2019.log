RT is False
Default write of storage_offers_DA.csv just to have a file (but constraint should be inactive)
Reading model...
...model read.
creating competitive generators file...
...competitive generators recorded.
Loading data...
.. day-ahead data read.
Compiling instance...
...instance created.
Creating Offer Mitigation (model will solve as dispatch if TRUE)...
...storage offer mitigation file created
Converting model to MPEC...
...converted
NOTE: initial MIP solve with only storage competitive to get feasible solution
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp1om5y5z1.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.2
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 30000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp75gje9wt.pyomo.lp' read.
Read time = 0.16 sec. (14.50 ticks)
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp75gje9wt.pyomo.lp
Objective sense      : Maximize
Variables            :   53805  [Nneg: 1,  Box: 22000,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9019
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  291718
  RHS nonzeros       :   67460

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            30000
CPXPARAM_MIP_Tolerances_MIPGap                   0.20000000000000001
Tried aggregator 3 times.
MIP Presolve eliminated 88893 rows and 19191 columns.
MIP Presolve added 3338 rows and 0 columns.
MIP Presolve modified 24784 coefficients.
Aggregator did 12968 substitutions.
Reduced MIP has 24682 rows, 21064 columns, and 70474 nonzeros.
Reduced MIP has 8323 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.20 sec. (165.58 ticks)
Probing fixed 376 vars, tightened 4028 bounds.
Probing time = 0.05 sec. (18.21 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2999 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23797 rows, 20273 columns, and 67908 nonzeros.
Reduced MIP has 7946 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (91.25 ticks)
Probing fixed 0 vars, tightened 271 bounds.
Probing time = 0.09 sec. (22.21 ticks)
Clique table members: 44067.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.38 sec. (621.96 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0     7078.7690    96                   7078.7690     5518         
      0     0     7078.7690    96                     Cuts: 9     5521         
      0     0     7077.4920    96                     Cuts: 4     5527         
      0     0     7077.4573    96                     Cuts: 4     5534         
      0     0     7076.1264    96                     Cuts: 2     5536         
      0     0     7076.1264    96                   Covers: 1     5537         
      0     7    infeasible                         7069.3359     5579         
Elapsed time = 3.95 sec. (2710.83 ticks, tree = 0.02 MB, solutions = 0)
*    26    23      integral     0     7043.8426     7069.3359     5927    0.36%
*    67    13      integral     0     7050.6701     7069.3359     5889    0.26%

Cover cuts applied:  4
Implied bound cuts applied:  2
Flow cuts applied:  11
Gomory fractional cuts applied:  3

Root node processing (before b&c):
  Real time             =    3.52 sec. (2689.94 ticks)
Parallel b&c, 16 threads:
  Real time             =    0.83 sec. (245.02 ticks)
  Sync time (average)   =    0.21 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&cut) =    4.34 sec. (2934.96 ticks)

Solution pool: 3 solutions saved.

MIP - Integer optimal, tolerance (0.2/1e-06):  Objective =  7.0506701473e+03
Current MIP best bound =  7.0693358514e+03 (gap = 18.6657, 0.26%)
Solution time =    4.34 sec.  Iterations = 7133  Nodes = 119 (3)
Deterministic time = 2935.12 ticks  (675.83 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp5r_3978c.cplex.sol'.
CPLEX> NOTE: no warmstart specified for MIP iteration, default behavior is true
NOTE: resolving with all competitive generators using storage-only solution to warmstart
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp7z3sulhi.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.2
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 30000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp42u_mv64.pyomo.lp' read.
Read time = 0.14 sec. (14.52 ticks)
CPLEX> MIP start file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpm574odud.cplex.mst' read.
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp42u_mv64.pyomo.lp
Objective sense      : Maximize
Variables            :   54525  [Nneg: 1,  Box: 22720,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9715
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  291718
  RHS nonzeros       :   67460

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            30000
CPXPARAM_MIP_Tolerances_MIPGap                   0.20000000000000001
Warning:  No solution found from 1 MIP starts.
Retaining values of one MIP start for possible repair.
Tried aggregator 3 times.
MIP Presolve eliminated 88893 rows and 19911 columns.
MIP Presolve added 3338 rows and 0 columns.
MIP Presolve modified 24784 coefficients.
Aggregator did 12968 substitutions.
Reduced MIP has 24682 rows, 21064 columns, and 70474 nonzeros.
Reduced MIP has 8323 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (165.93 ticks)
Probing fixed 376 vars, tightened 4028 bounds.
Probing time = 0.05 sec. (18.21 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2999 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23797 rows, 20273 columns, and 67908 nonzeros.
Reduced MIP has 7946 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (91.25 ticks)
Probing fixed 0 vars, tightened 271 bounds.
Probing time = 0.08 sec. (22.21 ticks)
Clique table members: 44067.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.36 sec. (657.15 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0    78354.3907   182                  78354.3907     5956         
      0     0    77696.0433   182                    Cuts: 76     6013         
      0     0    77658.2894   182                    Cuts: 16     6032         
      0     0    77618.5719   182                    Cuts: 14     6039         
      0     0    77618.5719   182                     Cuts: 5     6043         
      0     0    77618.5719   182                 ZeroHalf: 1     6044         
      0     0    77618.5719   182                     Cuts: 4     6058         
Repair heuristic found nothing.
      0     2    77618.5719    72                  77618.5719     6058         
Elapsed time = 5.34 sec. (4245.64 ticks, tree = 0.02 MB, solutions = 0)
    187    94    68012.7048    48                  77074.5425     6966         
    519   234    52141.0922    49                  77074.5425     8400         
    851   501    63364.0221    27                  77074.5425    10338         
   1163   815    55419.7570    17                  77074.5425    15031         
   1428   965    27185.9755    40                  77074.5425    18105         
   1722  1083    54605.5393    16                  77074.5425    20440         
   1995  1788    54577.0517    13                  77074.5425    37994         
   2226  1612    69857.6280    49                  77049.0691    35259         
   2468  1362    62984.6189    31                  77049.0691    26835         
   3504  2388    52196.7730     5                  77049.0691    48107         
Elapsed time = 19.97 sec. (7354.47 ticks, tree = 16.45 MB, solutions = 0)
   4510  2843    63418.1603    32                  77049.0691    58556         
   5064  3331    58004.9148    24                  77049.0691    71326         

Performing restart 1

Repeating presolve.
Tried aggregator 3 times.
MIP Presolve eliminated 821 rows and 720 columns.
MIP Presolve modified 7708 coefficients.
Aggregator did 158 substitutions.
Reduced MIP has 22818 rows, 19395 columns, and 62358 nonzeros.
Reduced MIP has 7585 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (62.13 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 332 rows and 273 columns.
MIP Presolve modified 304 coefficients.
Aggregator did 5 substitutions.
Reduced MIP has 22481 rows, 19117 columns, and 61384 nonzeros.
Reduced MIP has 7449 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.03 sec. (38.05 ticks)
Tried aggregator 3 times.
MIP Presolve eliminated 50 rows and 51 columns.
MIP Presolve modified 207 coefficients.
Aggregator did 14 substitutions.
Reduced MIP has 22417 rows, 19052 columns, and 61194 nonzeros.
Reduced MIP has 7424 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (96.05 ticks)
Represolve time = 0.48 sec. (299.19 ticks)
   5077     0    77618.5707   150                   Cuts: 132    95642         
   5077     0    77589.8274   150                    Cuts: 25    95674         
   5077     0    77577.5638   150                    Cuts: 25    95691         
   5077     0    77577.5638   150                    Cuts: 13    95710         
   5077     0    77557.7872   150                    Cuts: 30    95723         
   5077     0    77557.7872   150                    Cuts: 11    95733         
   5077     6    66586.6682    39                  73636.0496    95789         
   5413    57    65354.8582    52                  68269.2324    96408         
   5827   512    39668.5796    39                  68269.2324   101793         
   6530   812    47012.0271    27                  66586.6682   108611         
   7386  1285  -228910.8211    52                  66093.4379   118628         
   8329  2404    41679.6995    38                  66093.4379   142875         
   9040  2298    38929.1788    52                  66093.4379   141053         
*  9486+ 2470                        43433.2524    66093.4379            52.17%
  10029  3146    45734.9323    42    43433.2524    65064.5223   188852   49.80%
Elapsed time = 57.77 sec. (20872.39 ticks, tree = 32.99 MB, solutions = 1)
  11262  3752    56245.9130    44    43433.2524    63724.8882   199214   46.72%
  12704  3146    57269.0417    57    43433.2524    63687.0588   183965   46.63%
  14478  5187    47251.6053    27    43433.2524    63613.7718   213389   46.46%
* 16252  5284      integral     0    45777.6892    63483.4749   213841   38.68%
  16295  4634    58452.4067    41    45777.6892    63461.4471   209562   38.63%
  17947  6213    60475.2804    51    45777.6892    63382.1025   221768   38.46%
  19807  6796    57033.3490    35    45777.6892    63315.5972   228221   38.31%
  21378  8375    48663.1313    31    45777.6892    63315.5972   247808   38.31%
  22825  8502    51074.8156    46    45777.6892    63315.5972   249183   38.31%
  24041  9621    48941.3408    42    45777.6892    63315.5972   261539   38.31%

Cover cuts applied:  11
Flow cuts applied:  41
Mixed integer rounding cuts applied:  4
Zero-half cuts applied:  1
Gomory fractional cuts applied:  4

Root node processing (before b&c):
  Real time             =    4.70 sec. (4194.38 ticks)
Parallel b&c, 16 threads:
  Real time             =   79.03 sec. (25823.11 ticks)
  Sync time (average)   =    0.39 sec.
  Wait time (average)   =    0.03 sec.
                          ------------
Total (root+branch&cut) =   83.73 sec. (30017.49 ticks)

Solution pool: 6 solutions saved.

MIP - Deterministic time limit exceeded, integer feasible:  Objective =  4.5777689197e+04
Current MIP best bound =  6.2825470278e+04 (gap = 17047.8, 37.24%)
Solution time =   83.73 sec.  Iterations = 288937  Nodes = 24521 (12793)
Deterministic time = 30017.64 ticks  (358.48 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpzi9plk95.cplex.sol'.
CPLEX> Exporting results... 
ERROR exporting transmission lines! Check export_lines().
Traceback (most recent call last):
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\managers.py", line 1654, in create_block_manager_from_blocks
    make_block(values=blocks[0], placement=slice(0, len(axes[0])))
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\blocks.py", line 3041, in make_block
    return klass(values, ndim=ndim, placement=placement)
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\blocks.py", line 2589, in __init__
    super().__init__(values, ndim=ndim, placement=placement)
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\blocks.py", line 125, in __init__
    f"Wrong number of items passed {len(self.values)}, "
ValueError: Wrong number of items passed 5, placement implies 4

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 101, in export_results
    instance, timepoints_set, transmission_lines_set, results_directory, is_MPEC
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 544, in export_lines
    index=pd.Index(index_name),
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\frame.py", line 464, in __init__
    mgr = init_ndarray(data, index, columns, dtype=dtype, copy=copy)
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\construction.py", line 210, in init_ndarray
    return create_block_manager_from_blocks(block_values, [columns, index])
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\managers.py", line 1664, in create_block_manager_from_blocks
    construction_error(tot_items, blocks[0].shape[1:], axes, e)
  File "C:\Program Files\anaconda3\lib\site-packages\pandas\core\internals\managers.py", line 1694, in construction_error
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (936, 5), indices imply (936, 4)


           Launching Python debugger (PDB)...
           To execute multi-line statements in PDB, type this:
                import code; code.interact(local=vars())
           (The command launches an interactive Python session with all the local variables available.)
           To exit the interactive session and continue script execution, press Ctrl+D.
           
> c:\program files\anaconda3\lib\site-packages\pandas\core\internals\managers.py(1694)construction_error()
-> raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
(Pdb) 