RT is False
Default write of storage_offers_DA.csv just to have a file (but constraint should be inactive)
Reading model...
...model read.
creating competitive generators file...
...competitive generators recorded.
Loading data...
.. day-ahead data read.
Compiling instance...
...instance created.
Creating Offer Mitigation (model will solve as dispatch if TRUE)...
...storage offer mitigation file created
Converting model to MPEC...
...converted
NOTE: initial MIP solve with only storage competitive to get feasible solution
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpi5hms5o4.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.01
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpga05pawr.pyomo.lp' read.
Read time = 0.16 sec. (14.65 ticks)
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpga05pawr.pyomo.lp
Objective sense      : Maximize
Variables            :   53805  [Nneg: 1,  Box: 22000,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    8995
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  299878
  RHS nonzeros       :   67600

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.01
Tried aggregator 3 times.
MIP Presolve eliminated 88809 rows and 19209 columns.
MIP Presolve added 3337 rows and 0 columns.
MIP Presolve modified 26007 coefficients.
Aggregator did 12960 substitutions.
Reduced MIP has 24773 rows, 21054 columns, and 75168 nonzeros.
Reduced MIP has 8317 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (187.83 ticks)
Probing fixed 376 vars, tightened 3958 bounds.
Probing time = 0.03 sec. (18.06 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2990 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23888 rows, 20263 columns, and 72602 nonzeros.
Reduced MIP has 7940 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (94.02 ticks)
Probing fixed 0 vars, tightened 260 bounds.
Probing time = 0.06 sec. (21.86 ticks)
Clique table members: 44214.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.31 sec. (616.45 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0     4001.8601    95                   4001.8601     5637         
      0     0     4001.8601    95                    Cuts: 26     5648         
      0     0     4001.8601    95                   Covers: 1     5652         
*     0+    0                         4001.5043     4001.8601             0.01%

Flow cuts applied:  10
Gomory fractional cuts applied:  6

Root node processing (before b&c):
  Real time             =    1.69 sec. (1709.00 ticks)
Parallel b&c, 16 threads:
  Real time             =    0.00 sec. (0.00 ticks)
  Sync time (average)   =    0.00 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&cut) =    1.69 sec. (1709.00 ticks)

Solution pool: 1 solution saved.

MIP - Integer optimal, tolerance (0.01/1e-06):  Objective =  4.0015042680e+03
Current MIP best bound =  4.0018601131e+03 (gap = 0.355845, 0.01%)
Solution time =    1.69 sec.  Iterations = 5652  Nodes = 0 (1)
Deterministic time = 1709.15 ticks  (1013.13 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpazfw5kfj.cplex.sol'.
CPLEX> NOTE: no warmstart specified for MIP iteration, default behavior is true
NOTE: resolving with all competitive generators using storage-only solution to warmstart
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpir6glnln.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.01
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp5qggm8y9.pyomo.lp' read.
Read time = 0.16 sec. (14.67 ticks)
CPLEX> MIP start file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpftvhjmqy.cplex.mst' read.
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp5qggm8y9.pyomo.lp
Objective sense      : Maximize
Variables            :   54525  [Nneg: 1,  Box: 22720,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9691
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  299878
  RHS nonzeros       :   67600

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.01
1 of 1 MIP starts provided solutions.
MIP start 'm1' defined initial solution with objective 46760.5660.
Tried aggregator 3 times.
MIP Presolve eliminated 88809 rows and 19929 columns.
MIP Presolve added 3337 rows and 0 columns.
MIP Presolve modified 26007 coefficients.
Aggregator did 12960 substitutions.
Reduced MIP has 24773 rows, 21054 columns, and 75168 nonzeros.
Reduced MIP has 8317 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (188.20 ticks)
Probing fixed 376 vars, tightened 3958 bounds.
Probing time = 0.03 sec. (18.06 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2990 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23888 rows, 20263 columns, and 72602 nonzeros.
Reduced MIP has 7940 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (94.03 ticks)
Probing fixed 0 vars, tightened 260 bounds.
Probing time = 0.06 sec. (21.86 ticks)
Clique table members: 44214.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.30 sec. (638.68 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

*     0+    0                        46760.5660   7.33499e+07              --- 
      0     0    76166.8085   178    46760.5660    76166.8085     5808   62.89%
      0     0    75345.5487   178    46760.5660     Cuts: 317     5939   61.13%
      0     0    75278.8460   178    46760.5660     Cuts: 168     6027   60.99%
      0     0    75227.4866   178    46760.5660     Cuts: 110     6057   60.88%
      0     0    75227.4866   178    46760.5660       Cuts: 5     6061   60.88%
      0     0    75227.4866   178    46760.5660       Cuts: 2     6066   60.88%
      0     0    75227.4866   178    46760.5660      Cuts: 14     6072   60.88%
      0    15        cutoff          46760.5660    74536.6410     6315   59.40%
Elapsed time = 3.30 sec. (2776.36 ticks, tree = 0.02 MB, solutions = 1)
    191    58    63611.9815    19    46760.5660    73522.9453     6645   57.23%
    493   194    58150.9126    12    46760.5660    73442.1766     7964   57.06%
    814   704    49922.7740    10    46760.5660    72735.9832    12463   55.55%
   1159   621    64608.0772    21    46760.5660    72735.9832    11618   55.55%
*  1227+  700                        49021.8219    72735.9832            48.37%
   1519   764    47442.0167    12    49021.8219    72735.9832    13398   48.37%
   1847  1167    56937.1964    24    49021.8219    72735.9832    17427   48.37%
   2194   988    63202.2882    22    49021.8219    72735.9832    16139   48.37%
   2524  1202    58388.0782    17    49021.8219    72735.9832    17731   48.37%
   2867  1394    57575.3808    28    49021.8219    72710.5098    19788   48.32%
   4364  2334    62922.9463    21    50506.7026    72710.5098    30234   43.96%
Elapsed time = 16.09 sec. (5883.08 ticks, tree = 17.09 MB, solutions = 3)

Performing restart 1

Repeating presolve.
Tried aggregator 4 times.
MIP Presolve eliminated 955 rows and 816 columns.
MIP Presolve modified 49926 coefficients.
Aggregator did 256 substitutions.
Reduced MIP has 22677 rows, 19191 columns, and 64166 nonzeros.
Reduced MIP has 7580 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.14 sec. (145.23 ticks)
Tried aggregator 3 times.
MIP Presolve eliminated 451 rows and 368 columns.
MIP Presolve modified 12187 coefficients.
Aggregator did 8 substitutions.
Reduced MIP has 22218 rows, 18815 columns, and 62892 nonzeros.
Reduced MIP has 7396 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.05 sec. (54.61 ticks)
Tried aggregator 3 times.
MIP Presolve modified 9592 coefficients.
Aggregator did 6 substitutions.
Reduced MIP has 22212 rows, 18809 columns, and 62910 nonzeros.
Reduced MIP has 7396 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (69.87 ticks)
Represolve time = 0.67 sec. (557.05 ticks)
   4889     0    75214.9747   158    50506.7026     Cuts: 234    45031   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 50    45069   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 66    45125   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 59    45179   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 66    45225   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 86    45287   33.37%
   4889     0    75214.9747   158    50506.7026      Cuts: 92    45359   33.37%
   4889     4        cutoff          50506.7026    67360.1537    45537   33.37%
   5295    42    52449.6673    18    50506.7026    67360.1537    46234   33.37%
   6017   144    54978.2529    21    50506.7026    67360.1537    47263   33.37%
   7021   452    55193.3506    29    50506.7026    67360.1537    52140   33.37%
   8384   997    51013.3871    28    50506.7026    65693.5677    58553   30.07%
   9876  2335        cutoff          50506.7026    62860.8312    73910   24.46%
  11123  2213    51469.2450    31    50506.7026    61164.9567    72197   21.10%
  12511  3796    50815.8992     4    50506.7026    59932.3757    93361   18.66%
* 13121  3833      integral     0    50815.8226    59866.9873    93501   17.81%
  15079  3805    57282.2076    31    50815.8226    58242.7911    94565   14.62%
Elapsed time = 53.20 sec. (18343.22 ticks, tree = 27.99 MB, solutions = 9)
  16815  6274        cutoff          50815.8226    58203.7102   137491   14.54%
  18261  6624    53327.3302    23    50815.8226    57265.8284   145839   12.69%
  19359  7023    53005.7468    24    50815.8226    56929.8335   157952   12.03%
  20601  6683    52660.0260    26    50815.8226    56916.7082   147426   12.01%
  21764  7571    54934.8519    27    50815.8226    56282.0291   168161   10.76%
  23156  8164    54103.7141    28    50815.8226    56282.0291   174514   10.76%
  25064  7637    50875.3664    18    50815.8226    55715.7420   169655    9.64%
  27063 10570    50875.3664    17    50815.8226    55673.4421   199928    9.56%
  28891  8952    50862.2186    19    50815.8226    55673.4421   182797    9.56%
  30786 10532    51242.1855    25    50815.8226    55387.7927   199519    9.00%
Elapsed time = 90.39 sec. (27885.28 ticks, tree = 80.88 MB, solutions = 9)
  32325 10129    infeasible          50815.8226    55190.3373   195550    8.61%
  33602 11730    50875.3664    14    50815.8226    54985.3193   209998    8.21%
  35006 13798    50815.8992     7    50815.8226    54954.7860   228124    8.15%
  36598 16015    50815.8992     5    50815.8226    54954.7860   254779    8.15%
  38096 15851    50817.4374     7    50815.8226    54914.8647   251720    8.07%
  39729 14861    50856.0505    14    50815.8226    54735.8615   238683    7.71%
  41615 15284    53803.9157    35    50815.8226    54482.6360   244175    7.22%
  43393 16094    53256.3335    30    50815.8226    54343.8689   255574    6.94%
  44847 16854    52571.4373    37    50815.8226    54290.6153   262805    6.84%
  46157 18123    50815.8992     5    50815.8226    54290.6153   271306    6.84%
Elapsed time = 119.97 sec. (37426.00 ticks, tree = 141.49 MB, solutions = 9)
  47703 22626        cutoff          50815.8226    54157.6007   304176    6.58%
  49017 22528    51145.1491    24    50815.8226    54157.6007   303058    6.58%
  50273 23905        cutoff          50815.8226    54157.6007   326840    6.58%
  51297 23937    50817.4374     8    50815.8226    53792.7541   328161    5.86%
  52672 25929    50875.3664    16    50815.8226    53792.7541   359402    5.86%
  54477 25221    50856.0505    14    50815.8226    53456.8902   351725    5.20%
  56301 25851    50860.3259    14    50815.8226    53456.8902   358785    5.20%
  57900 24029        cutoff          50815.8226    53447.6514   329466    5.18%
  58940 24606    51075.9557    26    50815.8226    53447.6514   341955    5.18%
  59884 25153    51653.5336    33    50815.8226    53447.6514   353385    5.18%
Elapsed time = 146.14 sec. (46969.24 ticks, tree = 196.68 MB, solutions = 9)
  61021 25301    infeasible          50815.8226    53447.6514   354419    5.18%
  62137 26803    50875.3664    18    50815.8226    53447.6514   364886    5.18%
  63259 27489    51000.8745    27    50815.8226    53447.6514   368458    5.18%

Cover cuts applied:  9
Implied bound cuts applied:  8
Flow cuts applied:  37
Mixed integer rounding cuts applied:  10
Zero-half cuts applied:  1
Gomory fractional cuts applied:  10

Root node processing (before b&c):
  Real time             =    2.80 sec. (2755.15 ticks)
Parallel b&c, 16 threads:
  Real time             =  143.45 sec. (47265.86 ticks)
  Sync time (average)   =    0.80 sec.
  Wait time (average)   =    0.04 sec.
                          ------------
Total (root+branch&cut) =  146.25 sec. (50021.01 ticks)

Solution pool: 9 solutions saved.

MIP - Deterministic time limit exceeded, integer feasible:  Objective =  5.0815822611e+04
Current MIP best bound =  5.3329641804e+04 (gap = 2513.82, 4.95%)
Solution time =  146.25 sec.  Iterations = 383434  Nodes = 63360 (30241)
Deterministic time = 50021.16 ticks  (342.03 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp0viyqqn_.cplex.sol'.
CPLEX> Exporting results... 
ERROR exporting storage! Check export_storage().
Traceback (most recent call last):
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 119, in export_results
    instance, timepoints_set, storage_set, results_directory, is_MPEC
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 706, in export_storage
    storage_chargemax_dual.append(format_6f(instance.chargemax_dual[t, s].value))
  File "C:\Program Files\anaconda3\lib\site-packages\pyomo\core\base\block.py", line 559, in __getattr__
    % (self.__class__.__name__, val))
AttributeError: 'ConcreteModel' object has no attribute 'chargemax_dual'


           Launching Python debugger (PDB)...
           To execute multi-line statements in PDB, type this:
                import code; code.interact(local=vars())
           (The command launches an interactive Python session with all the local variables available.)
           To exit the interactive session and continue script execution, press Ctrl+D.
           
> c:\program files\anaconda3\lib\site-packages\pyomo\core\base\block.py(559)__getattr__()
-> % (self.__class__.__name__, val))
(Pdb) 