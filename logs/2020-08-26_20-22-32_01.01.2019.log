RT is False
Default write of storage_offers_DA.csv just to have a file (but constraint should be inactive)
Reading model...
...model read.
creating competitive generators file...
...competitive generators recorded.
Loading data...
.. day-ahead data read.
Compiling instance...
...instance created.
Creating Offer Mitigation (model will solve as dispatch if TRUE)...
...storage offer mitigation file created
Converting model to MPEC...
...converted
NOTE: initial MIP solve with only storage competitive to get feasible solution
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpv4ix_xzi.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.05
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpf7jayzex.pyomo.lp' read.
Read time = 0.14 sec. (14.50 ticks)
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpf7jayzex.pyomo.lp
Objective sense      : Maximize
Variables            :   53805  [Nneg: 1,  Box: 22000,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9019
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  291718
  RHS nonzeros       :   67460

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.050000000000000003
Tried aggregator 3 times.
MIP Presolve eliminated 88893 rows and 19191 columns.
MIP Presolve added 3338 rows and 0 columns.
MIP Presolve modified 24784 coefficients.
Aggregator did 12968 substitutions.
Reduced MIP has 24682 rows, 21064 columns, and 70474 nonzeros.
Reduced MIP has 8323 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (165.58 ticks)
Probing fixed 376 vars, tightened 4028 bounds.
Probing time = 0.05 sec. (18.21 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2999 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23797 rows, 20273 columns, and 67908 nonzeros.
Reduced MIP has 7946 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (91.25 ticks)
Probing fixed 0 vars, tightened 271 bounds.
Probing time = 0.09 sec. (22.21 ticks)
Clique table members: 44067.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.34 sec. (621.96 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0     7078.7690    96                   7078.7690     5518         
      0     0     7078.7690    96                     Cuts: 9     5521         
      0     0     7077.4920    96                     Cuts: 4     5527         
      0     0     7077.4573    96                     Cuts: 4     5534         
      0     0     7076.1264    96                     Cuts: 2     5536         
      0     0     7076.1264    96                   Covers: 1     5537         
      0     7    infeasible                         7069.3359     5579         
Elapsed time = 3.94 sec. (2710.83 ticks, tree = 0.02 MB, solutions = 1)
*    55    12      integral     0     7050.6701     7069.3359     5877    0.26%

Cover cuts applied:  4
Implied bound cuts applied:  2
Flow cuts applied:  11
Gomory fractional cuts applied:  3

Root node processing (before b&c):
  Real time             =    3.48 sec. (2689.59 ticks)
Parallel b&c, 16 threads:
  Real time             =    0.73 sec. (221.34 ticks)
  Sync time (average)   =    0.21 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&cut) =    4.22 sec. (2910.93 ticks)

Solution pool: 2 solutions saved.

MIP - Integer optimal, tolerance (0.05/1e-06):  Objective =  7.0506701473e+03
Current MIP best bound =  7.0693358514e+03 (gap = 18.6657, 0.26%)
Solution time =    4.22 sec.  Iterations = 6821  Nodes = 77 (5)
Deterministic time = 2911.08 ticks  (689.99 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmphau7baow.cplex.sol'.
CPLEX> NOTE: no warmstart specified for MIP iteration, default behavior is true
NOTE: resolving with all competitive generators using storage-only solution to warmstart
Solving...

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer 12.10.0.0
  with Simplex, Mixed Integer & Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

CPLEX> Logfile 'cplex.log' closed.
Logfile 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpmixwtjgk.cplex.log' open.
CPLEX> New value for parallel optimization mode: -1
CPLEX> New value for mixed integer optimality gap tolerance: 0.05
CPLEX> New value for feasibility tolerance: 1e-09
CPLEX> New value for deterministic time limit in ticks: 50000
CPLEX> Problem 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp2vp8e88u.pyomo.lp' read.
Read time = 0.17 sec. (14.52 ticks)
CPLEX> MIP start file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpaycu1xjy.cplex.mst' read.
CPLEX> Problem name         : C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmp2vp8e88u.pyomo.lp
Objective sense      : Maximize
Variables            :   54525  [Nneg: 1,  Box: 22720,  Free: 4464,
                                 Binary: 27340]
Objective nonzeros   :    9715
Linear constraints   :  123205  [Less: 41346,  Greater: 59096,  Equal: 22763]
  Nonzeros           :  291718
  RHS nonzeros       :   67460

Variables            : Min LB: -5000.000        Max UB: 1000000.       
Objective nonzeros   : Min   : 0.1000000        Max   : 2500.000       
Linear constraints   :
  Nonzeros           : Min   : 0.1000000        Max   : 1000000.       
  RHS nonzeros       : Min   : 0.1000000        Max   : 1000000.       
CPLEX> Version identifier: 12.10.0.0 | 2019-11-26 | 843d4de2ae
CPXPARAM_Parallel                                -1
CPXPARAM_Simplex_Tolerances_Feasibility          1.0000000000000001e-09
CPXPARAM_DetTimeLimit                            50000
CPXPARAM_MIP_Tolerances_MIPGap                   0.050000000000000003
Warning:  No solution found from 1 MIP starts.
Retaining values of one MIP start for possible repair.
Tried aggregator 3 times.
MIP Presolve eliminated 88893 rows and 19911 columns.
MIP Presolve added 3338 rows and 0 columns.
MIP Presolve modified 24784 coefficients.
Aggregator did 12968 substitutions.
Reduced MIP has 24682 rows, 21064 columns, and 70474 nonzeros.
Reduced MIP has 8323 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.17 sec. (165.93 ticks)
Probing fixed 376 vars, tightened 4028 bounds.
Probing time = 0.05 sec. (18.21 ticks)
Tried aggregator 2 times.
Detecting symmetries...
MIP Presolve eliminated 849 rows and 755 columns.
MIP Presolve modified 2999 coefficients.
Aggregator did 36 substitutions.
Reduced MIP has 23797 rows, 20273 columns, and 67908 nonzeros.
Reduced MIP has 7946 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (91.25 ticks)
Probing fixed 0 vars, tightened 271 bounds.
Probing time = 0.08 sec. (22.21 ticks)
Clique table members: 44067.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: opportunistic, using up to 16 threads.
Root relaxation solution time = 0.34 sec. (657.15 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

      0     0    78354.3907   182                  78354.3907     5956         
      0     0    77696.0433   182                    Cuts: 76     6013         
      0     0    77658.2894   182                    Cuts: 16     6032         
      0     0    77618.5719   182                    Cuts: 14     6039         
      0     0    77618.5719   182                     Cuts: 5     6043         
      0     0    77618.5719   182                 ZeroHalf: 1     6044         
      0     0    77618.5719   182                     Cuts: 4     6058         
Repair heuristic found nothing.
      0     2    77618.5719    72                  77618.5719     6058         
Elapsed time = 5.92 sec. (4245.64 ticks, tree = 0.02 MB, solutions = 0)
    202    54    70021.4039    40                  77074.5425     6539         
    520   152    75717.8750    47                  77074.5425     7375         
    809   370    70021.4039    19                  77074.5425     9456         
   1086   726    29626.5664    20                  77074.5425    14700         
   1371   811    30381.6028    18                  77074.5425    15844         
   1650  1102    68676.3904    20                  77074.5425    24859         
   1907  1397    57892.2883    17                  77074.5425    31544         
   2190  1199    55462.2949     8                  77074.5425    25897         
   2415  2042    53110.6623     6                  77074.5425    44681         
   3429  1857    69491.3663    25                  77073.3852    42104         
Elapsed time = 21.89 sec. (7357.20 ticks, tree = 12.26 MB, solutions = 0)
   4532  2605    73270.6038    39                  77069.1566    57623         
   5707  4200    53513.5569     3                  77069.1566    80260         
   6808  4242    58142.7260    16                  77069.1566    80564         
   7665  4970    53034.4476    27                  77069.1566    95041         

Performing restart 1

Repeating presolve.
Tried aggregator 3 times.
MIP Presolve eliminated 887 rows and 776 columns.
MIP Presolve modified 7684 coefficients.
Aggregator did 161 substitutions.
Reduced MIP has 22749 rows, 19336 columns, and 62158 nonzeros.
Reduced MIP has 7557 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (62.36 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 327 rows and 271 columns.
MIP Presolve modified 306 coefficients.
Aggregator did 4 substitutions.
Reduced MIP has 22418 rows, 19061 columns, and 61200 nonzeros.
Reduced MIP has 7422 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.03 sec. (39.33 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 52 rows and 53 columns.
MIP Presolve modified 225 coefficients.
Aggregator did 14 substitutions.
Reduced MIP has 22352 rows, 18994 columns, and 61002 nonzeros.
Reduced MIP has 7396 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (85.26 ticks)
Represolve time = 0.58 sec. (296.21 ticks)
   7922     0    77618.5707   177                   Cuts: 143   148710         
   7922     0    77616.0221   177                    Cuts: 35   148741         
   7922     0    77571.3782   177                    Cuts: 28   148765         
   7922     0    77571.3782   177                    Cuts: 31   148792         
   7922     0    77556.4391   177                    Cuts: 21   148826         
   7922     0    77539.9258   177                    Cuts: 13   148861         
   7922     0    77539.9258   177                    Cuts: 16   148881         
   7922     2    76260.7888    59                  77067.9891   148881         
   8254    92    57699.4558    14                  72226.9398   149988         
   8986   569    51069.4236    16                  72226.9398   152863         
*  9561  1468      integral     0    50348.9012    71162.3877   162024   41.34%
  10422  1092    47962.4112    17    50919.8742    71162.3877   167647   39.75%
  11594   927    50919.8742    15    50919.8742    67991.2274   164451   33.53%
Elapsed time = 67.39 sec. (21090.06 ticks, tree = 4.56 MB, solutions = 5)
  12818  2037    50975.2307    12    50919.8742    67991.2274   190643   33.53%
  13933  2576    52363.7935    34    51076.1472    67991.2274   196837   33.12%
  15136  1603    56049.7279    25    51076.1472    67600.8144   183232   32.35%
  16584  2006    54952.8921    38    51076.1472    67600.8144   190954   32.35%
  18096  2815    51525.9313    29    51076.1472    67531.1581   198529   32.22%
  19736  3254    52092.2407    40    51076.1472    67531.1581   202664   32.22%
  21258  8136        cutoff          51076.1472    67342.8523   254745   31.85%
  22836  8453    55851.8662    51    51076.1472    67342.8523   257616   31.85%
  24175  5902    51429.7917    30    51076.1472    67342.8523   231840   31.85%
  25176  6642    59254.0728    55    51076.1472    67342.8523   238291   31.85%
Elapsed time = 105.22 sec. (30637.15 ticks, tree = 50.46 MB, solutions = 7)
  26216  7788    59061.5204    45    51076.1472    67342.8523   251196   31.85%
  27471  8952    54904.3161    45    51076.1472    67342.8523   263177   31.85%
  28395  9140    59029.2304    24    51076.1472    67342.8523   265665   31.85%
  29086  9616    53161.5031    40    51076.1472    67342.8523   272868   31.85%

Performing restart 2

Repeating presolve.
Tried aggregator 3 times.
MIP Presolve eliminated 212 rows and 150 columns.
MIP Presolve modified 510 coefficients.
Aggregator did 24 substitutions.
Reduced MIP has 22116 rows, 18820 columns, and 60836 nonzeros.
Reduced MIP has 7321 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.06 sec. (56.27 ticks)
Tried aggregator 2 times.
MIP Presolve eliminated 3 rows and 2 columns.
MIP Presolve modified 862 coefficients.
Aggregator did 1 substitutions.
Reduced MIP has 22112 rows, 18816 columns, and 60827 nonzeros.
Reduced MIP has 7320 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.08 sec. (82.49 ticks)
Represolve time = 0.41 sec. (211.10 ticks)
  29135     0    76236.7279   156    51076.1472     Cuts: 470   320504   25.47%
  29135     0    76236.7279   156    51076.1472     Cuts: 128   320563   25.47%
  29135     0    76236.7279   156    51076.1472     Cuts: 125   320654   25.47%
  29135     0    76236.7279   156    51076.1472      Cuts: 73   320706   25.47%
  29135     0    76236.7279   156    51076.1472     Cuts: 141   320775   25.47%
  29135     0    76236.7279   156    51076.1472      Cuts: 80   320830   25.47%
  29135     0    76236.7279   156    51076.1472      Cuts: 36   320862   25.47%
  29135     0    76235.6953   156    51076.1472      Cuts: 72   320933   25.47%
  29135     0    76235.6953   156    51076.1472     Cuts: 135   320992   25.47%
  29135    12        cutoff          51076.1472    64084.3460   321148   25.47%
  29340    58    57339.5612    31    51076.1472    64084.3460   321647   25.47%
  29667    46    57209.2716    14    51076.1472    64084.3460   321682   25.47%
  30159   299    51114.5307    13    51076.1472    64084.3460   325055   25.47%
  30684   438    56688.4076    36    51076.1472    64084.3460   327873   25.47%
  31337   360    51165.9872    14    51076.1472    64084.3460   326513   25.47%
Elapsed time = 136.48 sec. (43486.28 ticks, tree = 1.90 MB, solutions = 7)
  32081  1801        cutoff          51076.1472    64084.3460   349701   25.47%
  32967   996    59996.1183    31    51076.1472    64084.3460   336758   25.47%
  33763  1456    51120.9677    17    51076.1472    64084.3460   343059   25.47%
  34420  2001        cutoff          51076.1472    64084.3460   350823   25.47%
  35004  1915    51086.9039    15    51076.1472    64084.3460   350675   25.47%
  35469  2116    51084.6264    14    51076.1472    64084.3460   351986   25.47%

Cover cuts applied:  4
Implied bound cuts applied:  4
Flow cuts applied:  34
Mixed integer rounding cuts applied:  5
Gomory fractional cuts applied:  4

Root node processing (before b&c):
  Real time             =    5.27 sec. (4193.97 ticks)
Parallel b&c, 16 threads:
  Real time             =  141.81 sec. (45816.98 ticks)
  Sync time (average)   =    1.42 sec.
  Wait time (average)   =    0.06 sec.
                          ------------
Total (root+branch&cut) =  147.08 sec. (50010.95 ticks)

Solution pool: 7 solutions saved.

MIP - Deterministic time limit exceeded, integer feasible:  Objective =  5.1076147237e+04
Current MIP best bound =  6.3071814626e+04 (gap = 11995.7, 23.49%)
Solution time =  147.08 sec.  Iterations = 365856  Nodes = 35750 (3499)
Deterministic time = 50011.10 ticks  (340.03 ticks/sec)

CPLEX> Incumbent solution written to file 'C:\Users\wenmi\Desktop\competitiveMPEC\logs\tmpec60kxga.cplex.sol'.
CPLEX> Exporting results... 
ERROR exporting segmented generator offers! Check export_generator_segment_offer().
Traceback (most recent call last):
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 84, in export_results
    is_MPEC,
  File "c:\Users\wenmi\Desktop\competitiveMPEC\write_results_competitive.py", line 318, in export_generator_segment_offer
    available_capacity.append(format_6f(instance.CapacityTime[t, g].value))
AttributeError: 'float' object has no attribute 'value'


           Launching Python debugger (PDB)...
           To execute multi-line statements in PDB, type this:
                import code; code.interact(local=vars())
           (The command launches an interactive Python session with all the local variables available.)
           To exit the interactive session and continue script execution, press Ctrl+D.
           
> c:\users\wenmi\desktop\competitivempec\write_results_competitive.py(318)export_generator_segment_offer()
-> available_capacity.append(format_6f(instance.CapacityTime[t, g].value))
(Pdb) 